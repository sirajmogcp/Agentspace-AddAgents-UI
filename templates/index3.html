<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCP Project, Agents, and Engines</title>
    <style>
        body { font-family: sans-serif; margin: 20px; background-color: #f4f4f4; color: #333; }
        .container { background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); margin-bottom: 20px; }
        h1, h2, h3 { color: #2c3e50; }
        .info-item { margin-bottom: 10px; }
        .info-label { font-weight: bold; }
        .error { color: red; font-weight: bold; }
        ul { list-style-type: none; padding-left: 0; }
        li { background-color: #ecf0f1; margin-bottom: 8px; padding: 10px; border-radius: 4px; }
        .app-id, .engine-id { font-size: 0.9em; color: #7f8c8d; }
    </style>
</head>
<body>
    <div class="container">
        <h1>GCP Project Information</h1>
        <div class="info-item">
            <span class="info-label">Project ID:</span>
            {% if gcp_project_id %}
                {{ gcp_project_id }}
            {% elif gcp_project_id_error %}
                <span class="error">{{ gcp_project_id_error }}</span>
            {% else %}
                <span class="error">Could not determine Project ID.</span>
            {% endif %}
        </div>
    </div>
    <div class="container">
        <h2>Vertex AI Reasoning Engines</h2>
        <div class="info-item">
            <span class="info-label">Location Queried:</span> {{ reasoning_engine_location }}
        </div>

        {% if reasoning_engines %}
            <p>Found {{ reasoning_engines|length }} Reasoning Engine(s):</p>
            <ul>
                {% for engine in reasoning_engines %}
                    <li>
                        <strong>{{ engine.display_name }}</strong><br>
                        <span class="id-details">ID (Short Name): {{ engine.name }}</span><br>
                        <span class="id-details">Resource Name: {{ engine.resource_name }}</span><br>
                        <span class="id-details">Created: {{ engine.create_time }}</span><br>
                        <span class="id-details">Updated: {{ engine.update_time }}</span>
                    </li>
                {% endfor %}
            </ul>
        {% elif reasoning_engines_error %}
            <p class="error">Error fetching Reasoning Engines: {{ reasoning_engines_error }}</p>
        {% else %}
            <p>No Reasoning Engines found in project '{{ gcp_project_id }}' and location '{{ reasoning_engine_location }}', or project ID was missing.</p>
        {% endif %}
    </div>
    

    <div class="container">
        <h2>Discovery Engines</h2>
        <div class="info-item">
            <span class="info-label">Location Queried:</span> {{ discovery_engine_location }}<br>
            <span class="info-label">Collection Queried:</span> {{ discovery_engine_collection_id }}
        </div>

        {% if discovery_engines %}
            <p>Found {{ discovery_engines|length }} engine(s):</p>
            <ul>
                {% for engine in discovery_engines %}
                    <li>
                        <strong>{{ engine.displayName | default('N/A') }}</strong><br>
                        <span class="engine-id">Engine Name: {{ engine.name }}</span><br>
                        <span class="engine-id">Solution Type: {{ engine.solutionType | default('N/A') }}</span>
                    </li>
                {% endfor %}
            </ul>
        {% elif discovery_engines_error %}
            <p class="error">Error fetching Discovery Engines: {{ discovery_engines_error }}</p>
        {% else %}
            <p>No Discovery Engines found for the specified project, location, and collection, or project ID was missing.</p>
        {% endif %}
    </div>
</body>
</html>